{"ast":null,"code":"var _jsxFileName = \"/Users/shubhampathak/Desktop/Assignment-Vidyalai/pdf-processor-frontend/src/PdfProcessor.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { useDropzone } from 'react-dropzone';\nimport { PDFDocument, rgb } from 'pdf-lib';\nimport './PdfProcessor.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\nfunction PdfProcessor() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [numPages, setNumPages] = useState(0);\n  const [selectedPages, setSelectedPages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n  };\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    accept: '.pdf',\n    onDrop: acceptedFiles => {\n      setSelectedFile(acceptedFiles[0]);\n    }\n  });\n  const togglePageSelection = pageNumber => {\n    if (selectedPages.includes(pageNumber)) {\n      setSelectedPages(selectedPages.filter(page => page !== pageNumber));\n    } else {\n      setSelectedPages([...selectedPages, pageNumber]);\n    }\n  };\n  const processPDF = async () => {\n    setLoading(true);\n    try {\n      const existingPdfBytes = await selectedFile.arrayBuffer();\n      const pdfDoc = await PDFDocument.load(existingPdfBytes);\n      const newPdfDoc = await PDFDocument.create();\n      for (const pageNumber of selectedPages) {\n        const [copiedPage] = await newPdfDoc.copyPages(pdfDoc, [pageNumber - 1]);\n        newPdfDoc.addPage(copiedPage);\n      }\n      const pdfBytes = await newPdfDoc.save();\n      const url = window.URL.createObjectURL(new Blob([pdfBytes], {\n        type: 'application/pdf'\n      }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', 'processed.pdf');\n      document.body.appendChild(link);\n      link.click();\n    } catch (error) {\n      console.error('Error processing PDF:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pdf-processor-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"PDF Processor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: \"dropzone\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Drag & drop a PDF file here, or click to select one\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdf-preview\",\n      children: [/*#__PURE__*/_jsxDEV(Document, {\n        file: selectedFile,\n        onLoadSuccess: onDocumentLoadSuccess,\n        children: Array.from(new Array(numPages), (el, index) => /*#__PURE__*/_jsxDEV(Page, {\n          pageNumber: index + 1,\n          className: selectedPages.includes(index + 1) ? 'selected-page' : '',\n          onClick: () => togglePageSelection(index + 1)\n        }, `page_${index + 1}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"process-button\",\n        onClick: processPDF,\n        disabled: selectedPages.length === 0 || loading,\n        children: loading ? 'Processing...' : 'Process PDF'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(PdfProcessor, \"kAYplFrElXJO61XDnt5eKd1bCc0=\", false, function () {\n  return [useDropzone];\n});\n_c = PdfProcessor;\nexport default PdfProcessor;\nvar _c;\n$RefreshReg$(_c, \"PdfProcessor\");","map":{"version":3,"names":["React","useState","axios","Document","Page","pdfjs","useDropzone","PDFDocument","rgb","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","PdfProcessor","_s","selectedFile","setSelectedFile","numPages","setNumPages","selectedPages","setSelectedPages","loading","setLoading","onDocumentLoadSuccess","getRootProps","getInputProps","accept","onDrop","acceptedFiles","togglePageSelection","pageNumber","includes","filter","page","processPDF","existingPdfBytes","arrayBuffer","pdfDoc","load","newPdfDoc","create","copiedPage","copyPages","addPage","pdfBytes","save","url","window","URL","createObjectURL","Blob","type","link","document","createElement","href","setAttribute","body","appendChild","click","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","file","onLoadSuccess","Array","from","el","index","onClick","disabled","length","_c","$RefreshReg$"],"sources":["/Users/shubhampathak/Desktop/Assignment-Vidyalai/pdf-processor-frontend/src/PdfProcessor.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { useDropzone } from 'react-dropzone';\nimport { PDFDocument, rgb } from 'pdf-lib'; \n\nimport './PdfProcessor.css';\n\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n\nfunction PdfProcessor() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [numPages, setNumPages] = useState(0);\n  const [selectedPages, setSelectedPages] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n  };\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: '.pdf',\n    onDrop: (acceptedFiles) => {\n      setSelectedFile(acceptedFiles[0]);\n    },\n  });\n\n  const togglePageSelection = (pageNumber) => {\n    if (selectedPages.includes(pageNumber)) {\n      setSelectedPages(selectedPages.filter((page) => page !== pageNumber));\n    } else {\n      setSelectedPages([...selectedPages, pageNumber]);\n    }\n  };\n\n  const processPDF = async () => {\n    setLoading(true);\n\n    try {\n      const existingPdfBytes = await selectedFile.arrayBuffer();\n      const pdfDoc = await PDFDocument.load(existingPdfBytes);\n      const newPdfDoc = await PDFDocument.create();\n\n      for (const pageNumber of selectedPages) {\n        const [copiedPage] = await newPdfDoc.copyPages(pdfDoc, [pageNumber - 1]);\n        newPdfDoc.addPage(copiedPage);\n      }\n\n      const pdfBytes = await newPdfDoc.save();\n\n      const url = window.URL.createObjectURL(new Blob([pdfBytes], { type: 'application/pdf' }));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', 'processed.pdf');\n      document.body.appendChild(link);\n      link.click();\n    } catch (error) {\n      console.error('Error processing PDF:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"pdf-processor-container\">\n      <h1>PDF Processor</h1>\n      <div {...getRootProps()} className=\"dropzone\">\n        <input {...getInputProps()} />\n        <p>Drag & drop a PDF file here, or click to select one</p>\n      </div>\n      {selectedFile && (\n        <div className=\"pdf-preview\">\n          <Document file={selectedFile} onLoadSuccess={onDocumentLoadSuccess}>\n            {Array.from(new Array(numPages), (el, index) => (\n              <Page\n                key={`page_${index + 1}`}\n                pageNumber={index + 1}\n                className={selectedPages.includes(index + 1) ? 'selected-page' : ''}\n                onClick={() => togglePageSelection(index + 1)}\n              />\n            ))}\n          </Document>\n          <button\n            className=\"process-button\"\n            onClick={processPDF}\n            disabled={selectedPages.length === 0 || loading}\n          >\n            {loading ? 'Processing...' : 'Process PDF'}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PdfProcessor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}